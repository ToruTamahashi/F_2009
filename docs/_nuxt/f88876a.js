(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{480:function(t,e,n){var content=n(527);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("4cca6644",content,!0,{sourceMap:!1})},481:function(t,e,n){"use strict";n.r(e);n(33);var r={props:{status:{type:Number}},data:function(){return{}},computed:{message:function(){switch(this.status){case 0:return"今日はまだおふろに入っていません。";case 1:return"ただいま入浴中です。";case 2:return"今日のおふろは無事に終了しました。";case 3:return"平均入浴時間を大幅に超過しています！！"}return""},color:function(){switch(this.status){case 0:return"#FFB304";case 1:return"#FFF2DC";case 2:return"#3DB4BE";case 3:return"#E53A00"}return""}}},o=(n(526),n(72)),l=n(101),c=n.n(l),h=n(482),component=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-card",{staticClass:"pa-5 d-flex align-center justify-center text-h5 font-weight-bold",attrs:{color:this.color,dark:"",height:"100"}},[e("span",{class:{"taking-bath":1===this.status}},[this._v(this._s(this.message))])])}),[],!1,null,"ab7d0676",null);e.default=component.exports;c()(component,{VCard:h.a})},483:function(t,e,n){"use strict";n.r(e);var r={extends:n(528).a,name:"chart",props:{chartLabel:{type:Array},chartData:{type:Array},update:{type:Array}},data:function(){return{data:{labels:this.chartLabel,datasets:[{label:"入浴時間",data:this.chartData,borderColor:"#CFD8DC",fill:!1,type:"line",lineTension:.3},{label:"入浴時間",data:this.chartData,backgroundColor:"#FFB304",borderColor:"rgba(255, 159, 64, 1)",borderWidth:1}]},options:{legend:!1,scales:{xAxes:[{scaleLabel:{display:!1,labelString:"日付"}}],yAxes:[{ticks:{beginAtZero:!0,stepSize:10,callback:function(t,e,n){return"".concat(t,"分")}}}]}}}},watch:{chartLabel:function(){this.$data._chart.update()},chartData:function(){this.$data._chart.update()},update:function(){this.$data._chart.update()}},mounted:function(){this.renderChart(this.data,this.options)}},o=n(72),component=Object(o.a)(r,void 0,void 0,!1,null,null,null);e.default=component.exports},525:function(t,e,n){var map={"./af":345,"./af.js":345,"./ar":346,"./ar-dz":347,"./ar-dz.js":347,"./ar-kw":348,"./ar-kw.js":348,"./ar-ly":349,"./ar-ly.js":349,"./ar-ma":350,"./ar-ma.js":350,"./ar-sa":351,"./ar-sa.js":351,"./ar-tn":352,"./ar-tn.js":352,"./ar.js":346,"./az":353,"./az.js":353,"./be":354,"./be.js":354,"./bg":355,"./bg.js":355,"./bm":356,"./bm.js":356,"./bn":357,"./bn-bd":358,"./bn-bd.js":358,"./bn.js":357,"./bo":359,"./bo.js":359,"./br":360,"./br.js":360,"./bs":361,"./bs.js":361,"./ca":362,"./ca.js":362,"./cs":363,"./cs.js":363,"./cv":364,"./cv.js":364,"./cy":365,"./cy.js":365,"./da":366,"./da.js":366,"./de":367,"./de-at":368,"./de-at.js":368,"./de-ch":369,"./de-ch.js":369,"./de.js":367,"./dv":370,"./dv.js":370,"./el":371,"./el.js":371,"./en-au":372,"./en-au.js":372,"./en-ca":373,"./en-ca.js":373,"./en-gb":374,"./en-gb.js":374,"./en-ie":375,"./en-ie.js":375,"./en-il":376,"./en-il.js":376,"./en-in":377,"./en-in.js":377,"./en-nz":378,"./en-nz.js":378,"./en-sg":379,"./en-sg.js":379,"./eo":380,"./eo.js":380,"./es":381,"./es-do":382,"./es-do.js":382,"./es-mx":383,"./es-mx.js":383,"./es-us":384,"./es-us.js":384,"./es.js":381,"./et":385,"./et.js":385,"./eu":386,"./eu.js":386,"./fa":387,"./fa.js":387,"./fi":388,"./fi.js":388,"./fil":389,"./fil.js":389,"./fo":390,"./fo.js":390,"./fr":391,"./fr-ca":392,"./fr-ca.js":392,"./fr-ch":393,"./fr-ch.js":393,"./fr.js":391,"./fy":394,"./fy.js":394,"./ga":395,"./ga.js":395,"./gd":396,"./gd.js":396,"./gl":397,"./gl.js":397,"./gom-deva":398,"./gom-deva.js":398,"./gom-latn":399,"./gom-latn.js":399,"./gu":400,"./gu.js":400,"./he":401,"./he.js":401,"./hi":402,"./hi.js":402,"./hr":403,"./hr.js":403,"./hu":404,"./hu.js":404,"./hy-am":405,"./hy-am.js":405,"./id":406,"./id.js":406,"./is":407,"./is.js":407,"./it":408,"./it-ch":409,"./it-ch.js":409,"./it.js":408,"./ja":410,"./ja.js":410,"./jv":411,"./jv.js":411,"./ka":412,"./ka.js":412,"./kk":413,"./kk.js":413,"./km":414,"./km.js":414,"./kn":415,"./kn.js":415,"./ko":416,"./ko.js":416,"./ku":417,"./ku.js":417,"./ky":418,"./ky.js":418,"./lb":419,"./lb.js":419,"./lo":420,"./lo.js":420,"./lt":421,"./lt.js":421,"./lv":422,"./lv.js":422,"./me":423,"./me.js":423,"./mi":424,"./mi.js":424,"./mk":425,"./mk.js":425,"./ml":426,"./ml.js":426,"./mn":427,"./mn.js":427,"./mr":428,"./mr.js":428,"./ms":429,"./ms-my":430,"./ms-my.js":430,"./ms.js":429,"./mt":431,"./mt.js":431,"./my":432,"./my.js":432,"./nb":433,"./nb.js":433,"./ne":434,"./ne.js":434,"./nl":435,"./nl-be":436,"./nl-be.js":436,"./nl.js":435,"./nn":437,"./nn.js":437,"./oc-lnc":438,"./oc-lnc.js":438,"./pa-in":439,"./pa-in.js":439,"./pl":440,"./pl.js":440,"./pt":441,"./pt-br":442,"./pt-br.js":442,"./pt.js":441,"./ro":443,"./ro.js":443,"./ru":444,"./ru.js":444,"./sd":445,"./sd.js":445,"./se":446,"./se.js":446,"./si":447,"./si.js":447,"./sk":448,"./sk.js":448,"./sl":449,"./sl.js":449,"./sq":450,"./sq.js":450,"./sr":451,"./sr-cyrl":452,"./sr-cyrl.js":452,"./sr.js":451,"./ss":453,"./ss.js":453,"./sv":454,"./sv.js":454,"./sw":455,"./sw.js":455,"./ta":456,"./ta.js":456,"./te":457,"./te.js":457,"./tet":458,"./tet.js":458,"./tg":459,"./tg.js":459,"./th":460,"./th.js":460,"./tk":461,"./tk.js":461,"./tl-ph":462,"./tl-ph.js":462,"./tlh":463,"./tlh.js":463,"./tr":464,"./tr.js":464,"./tzl":465,"./tzl.js":465,"./tzm":466,"./tzm-latn":467,"./tzm-latn.js":467,"./tzm.js":466,"./ug-cn":468,"./ug-cn.js":468,"./uk":469,"./uk.js":469,"./ur":470,"./ur.js":470,"./uz":471,"./uz-latn":472,"./uz-latn.js":472,"./uz.js":471,"./vi":473,"./vi.js":473,"./x-pseudo":474,"./x-pseudo.js":474,"./yo":475,"./yo.js":475,"./zh-cn":476,"./zh-cn.js":476,"./zh-hk":477,"./zh-hk.js":477,"./zh-mo":478,"./zh-mo.js":478,"./zh-tw":479,"./zh-tw.js":479};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=o,t.exports=r,r.id=525},526:function(t,e,n){"use strict";n(480)},527:function(t,e,n){(e=n(20)(!1)).push([t.i,".taking-bath[data-v-ab7d0676]{color:#3db4be}",""]),t.exports=e},538:function(t,e,n){"use strict";n.r(e);n(11),n(54),n(31),n(56),n(12);var r=n(483),o=n(481),l={components:{BathChart:r.default,StatusCard:o.default},data:function(){return{status:0,bath_time:{taking_bath_time:{hour:null,minutes:null},entry_bath_time:{hour:null,minutes:null},exit_bath_time:{hour:null,minutes:null}},chart:{data:[0,0,0,0,0,0,0],label:["","","","","","",""],update:[]},history:null,mean_bath_time:0,alert:!1}},created:function(){var t=this;this.$OneSignal.push((function(){t.$OneSignal.on("notificationDisplay",(function(e){t.updateData()}))}))},mounted:function(){this.updateData()},methods:{dateToHourMinutes:function(t){return{hour:Math.floor(t/36e5),minutes:Math.floor(t%36e5/6e4)}},dateFromEntry:function(t){return new Date-Date.parse(t)},chageChartData:function(){this.chart.data[0]=Math.floor(Math.random()*Math.floor(10)),this.chart.update=[]},getTime:function(time){return null==time.hour?"":time.hour+":"+time.minutes},getNowDate:function(){var t=new Date;return t.getMonth()+1+"月"+(t.getDay()+1)+"日"},getUserId:function(){return window.localStorage.getItem("user_id")},updateData:function(){var t=this;this.$axios.get("/status",{headers:{Authorization:"".concat(this.getUserId())}}).then((function(e){var n=e.data.status,r=e.data.entry_time,o=e.data.exit_time;t.status=n,console.log(n),r&&(r=new Date(r),t.bath_time.entry_bath_time.hour=r.getHours(),t.bath_time.entry_bath_time.minutes=r.getMinutes()),o&&(o=new Date(o),t.bath_time.exit_bath_time.hour=o.getHours(),t.bath_time.exit_bath_time.minutes=o.getMinutes())})),this.$axios.get("/history/week",{headers:{Authorization:"".concat(this.getUserId())}}).then((function(e){var n=e.data.history,r=e.data.mean;t.mean_bath_time=r,n.map((function(t){return t.date})).forEach((function(e,n){var r=e.split("-");t.chart.label[n]=r[1]+"/"+r[2]})),n.map((function(t){return t.minute})).forEach((function(e,n){t.chart.data[n]=e})),t.chart.update=[]}))}}},c=n(72),h=n(101),j=n.n(h),d=n(342),m=n(488),f=n(343),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{staticClass:"px-5 py-2"},[n("v-col",{attrs:{cols:"12"}},[n("h1",{staticClass:"amber--text text--darken-1"},[t._v(t._s(t.getNowDate()))])]),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("StatusCard",{attrs:{status:t.status}})],1),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("div",{staticClass:"text-h5 font-weight-black"},[t._v("今日の入浴時間")]),t._v(" "),n("h1",{staticClass:"amber--text text--darken-1"},[t._v("\n      "+t._s(t.getTime(t.bath_time.entry_bath_time))+"\n        ~\n      "+t._s(t.getTime(t.bath_time.exit_bath_time))+"\n    ")])]),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("div",{staticClass:"text-h5 font-weight-black"},[t._v("平均入浴時間")]),t._v(" "),n("div",{staticClass:"text-body-1 font-weight-black"},[t._v(t._s(this.chart.label[0])+"~"+t._s(this.chart.label[6]))]),t._v(" "),n("h1",{staticClass:"amber--text text--darken-1"},[t._v(t._s(t.mean_bath_time)+"分")])]),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("BathChart",{attrs:{height:270,chartData:t.chart.data,chartLabel:t.chart.label,update:t.chart.update}})],1),t._v(" "),n("v-overlay",{attrs:{absolute:!0,value:3===t.status,color:"#E53A00"}})],1)}),[],!1,null,"7c1db1fd",null);e.default=component.exports;j()(component,{StatusCard:n(481).default,BathChart:n(483).default}),j()(component,{VCol:d.a,VOverlay:m.a,VRow:f.a})}}]);