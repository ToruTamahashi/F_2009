(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{340:function(t,e,r){var content=r(486);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(21).default)("c3bb79d0",content,!0,{sourceMap:!1})},485:function(t,e,r){"use strict";r(340)},486:function(t,e,r){(e=r(20)(!1)).push([t.i,".error[data-v-adb8d9dc]{font-weight:700;color:red}",""]),t.exports=e},516:function(t,e,r){"use strict";r.r(e);r(27),r(65);var o=r(19),n={components:{QrcodeStream:r(484).QrcodeStream},data:function(){return{result:"",error:"",overlay:!1,height:window.innerHeight-64-46,is_connect:!!window.localStorage.getItem("user_id")}},methods:{onDecode:function(t){var e=this;this.result=t,this.$axios.post("/users/create",{device_id:"".concat(t)}).then((function(t){var r=t.data.user_id;window.localStorage.setItem("user_id",r),e.overlay=!1,e.is_connect=!0})).catch((function(t){alert("デバイスと接続出来ませんでした。")}))},onInit:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t;case 3:r.next=8;break;case 5:r.prev=5,r.t0=r.catch(0),"NotAllowedError"===r.t0.name?e.error="ERROR: you need to grant camera access permisson":"NotFoundError"===r.t0.name?e.error="ERROR: no camera on this device":"NotSupportedError"===r.t0.name?e.error="ERROR: secure context required (HTTPS, localhost)":"NotReadableError"===r.t0.name?e.error="ERROR: is the camera already in use?":"OverconstrainedError"===r.t0.name?e.error="ERROR: installed cameras are not suitable":"StreamApiNotSupportedError"===r.t0.name&&(e.error="ERROR: Stream API is not supported in this browser");case 8:case"end":return r.stop()}}),r,null,[[0,5]])})))()},connectDevice:function(){this.is_connect?alert("すでに接続されています"):this.overlay=!0},removeConnect:function(){window.localStorage.removeItem("user_id"),this.is_connect=!1},connectWifi:function(){var t="http://192.168.4.1";this.$axios.get(t).then((function(e){window.location.href=t})).catch((function(t){alert("専用wifiに接続してください")}))}},computed:{isConnected:function(){return this.is_connect?"接続済み":"未接続"}}},c=(r(485),r(71)),l=r(100),d=r.n(l),v=r(319),h=r(341),m=r(487),_=r(342),component=Object(c.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-row",{staticClass:"px-5 py-2"},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"text-h5 font-weight-black"},[t._v("接続設定")])]),t._v(" "),r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"text-h6 font-weight-black"},[t._v("接続状態：")]),t._v(" "),r("div",{staticClass:"text-h6 font-weight-black mt-2"},[t._v("デバイス："+t._s(t.isConnected))]),t._v(" "),r("v-btn",{staticClass:"mt-2",attrs:{color:"#3DB4BE",width:"127",dark:""},on:{click:t.removeConnect}},[t._v("接続の解除")])],1),t._v(" "),r("v-col",{staticClass:"mt-5",attrs:{cols:"12"}},[r("div",{staticClass:"text-h6 font-weight-black"},[t._v("STEP1：")]),t._v(" "),r("div",{staticClass:"text-h6 mt-2"},[t._v("デバイスを接続します。")]),t._v(" "),r("v-btn",{staticClass:"mt-2",attrs:{color:"#FFB304",width:"127",dark:""},on:{click:t.connectDevice}},[t._v("デバイスの接続")])],1),t._v(" "),t.is_connect?r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"text-h6 font-weight-black"},[t._v("STEP2：")]),t._v(" "),r("div",{staticClass:"text-h6 mt-2"},[t._v("デバイスをWi-Fiと接続します。")]),t._v(" "),r("v-btn",{staticClass:"mt-2",attrs:{color:"#FFB304",width:"127",dark:""},on:{click:t.connectWifi}},[t._v("Wi-Fiの接続")])],1):t._e(),t._v(" "),r("v-overlay",{attrs:{absolute:!0,value:t.overlay}},[r("qrcode-stream",{style:{height:t.height+"px"},on:{decode:t.onDecode,init:t.onInit}})],1)],1)],1)}),[],!1,null,"adb8d9dc",null);e.default=component.exports;d()(component,{VBtn:v.a,VCol:h.a,VOverlay:m.a,VRow:_.a})}}]);