(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{467:function(t,e,n){var content=n(481);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("4cca6644",content,!0,{sourceMap:!1})},468:function(t,e,n){"use strict";n.r(e);n(33);var r={props:{status:{type:Number}},data:function(){return{}},computed:{message:function(){switch(this.status){case 0:return"今日はまだおふろに入っていません。";case 1:return"ただいま入浴中です。";case 2:return"今日のおふろは無事に終了しました。";case 3:return"平均入浴時間を大幅に超過しています！！"}return""},color:function(){switch(this.status){case 0:return"#FFB304";case 1:return"#FFF2DC";case 2:return"#3DB4BE";case 3:return"#E53A00"}return""}}},o=(n(480),n(70)),l=n(100),c=n.n(l),h=n(488),component=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-card",{staticClass:"pa-5 d-flex align-center justify-center text-h5 font-weight-bold",attrs:{color:this.color,dark:"",height:"100"}},[e("span",{class:{"taking-bath":1===this.status}},[this._v(this._s(this.message))])])}),[],!1,null,"ab7d0676",null);e.default=component.exports;c()(component,{VCard:h.a})},469:function(t,e,n){"use strict";n.r(e);var r={extends:n(486).a,name:"chart",props:{chartLabel:{type:Array},chartData:{type:Array},update:{type:Array}},data:function(){return{data:{labels:this.chartLabel,datasets:[{label:"入浴時間",data:this.chartData,borderColor:"#CFD8DC",fill:!1,type:"line",lineTension:.3},{label:"入浴時間",data:this.chartData,backgroundColor:"#FFB304",borderColor:"rgba(255, 159, 64, 1)",borderWidth:1}]},options:{legend:!1,scales:{xAxes:[{scaleLabel:{display:!1,labelString:"日付"}}],yAxes:[{ticks:{beginAtZero:!0,stepSize:10,callback:function(t,e,n){return"".concat(t,"分")}}}]}}}},watch:{chartLabel:function(){this.$data._chart.update()},chartData:function(){this.$data._chart.update()},update:function(){this.$data._chart.update()}},mounted:function(){this.renderChart(this.data,this.options)}},o=n(70),component=Object(o.a)(r,void 0,void 0,!1,null,null,null);e.default=component.exports},479:function(t,e,n){var map={"./af":332,"./af.js":332,"./ar":333,"./ar-dz":334,"./ar-dz.js":334,"./ar-kw":335,"./ar-kw.js":335,"./ar-ly":336,"./ar-ly.js":336,"./ar-ma":337,"./ar-ma.js":337,"./ar-sa":338,"./ar-sa.js":338,"./ar-tn":339,"./ar-tn.js":339,"./ar.js":333,"./az":340,"./az.js":340,"./be":341,"./be.js":341,"./bg":342,"./bg.js":342,"./bm":343,"./bm.js":343,"./bn":344,"./bn-bd":345,"./bn-bd.js":345,"./bn.js":344,"./bo":346,"./bo.js":346,"./br":347,"./br.js":347,"./bs":348,"./bs.js":348,"./ca":349,"./ca.js":349,"./cs":350,"./cs.js":350,"./cv":351,"./cv.js":351,"./cy":352,"./cy.js":352,"./da":353,"./da.js":353,"./de":354,"./de-at":355,"./de-at.js":355,"./de-ch":356,"./de-ch.js":356,"./de.js":354,"./dv":357,"./dv.js":357,"./el":358,"./el.js":358,"./en-au":359,"./en-au.js":359,"./en-ca":360,"./en-ca.js":360,"./en-gb":361,"./en-gb.js":361,"./en-ie":362,"./en-ie.js":362,"./en-il":363,"./en-il.js":363,"./en-in":364,"./en-in.js":364,"./en-nz":365,"./en-nz.js":365,"./en-sg":366,"./en-sg.js":366,"./eo":367,"./eo.js":367,"./es":368,"./es-do":369,"./es-do.js":369,"./es-mx":370,"./es-mx.js":370,"./es-us":371,"./es-us.js":371,"./es.js":368,"./et":372,"./et.js":372,"./eu":373,"./eu.js":373,"./fa":374,"./fa.js":374,"./fi":375,"./fi.js":375,"./fil":376,"./fil.js":376,"./fo":377,"./fo.js":377,"./fr":378,"./fr-ca":379,"./fr-ca.js":379,"./fr-ch":380,"./fr-ch.js":380,"./fr.js":378,"./fy":381,"./fy.js":381,"./ga":382,"./ga.js":382,"./gd":383,"./gd.js":383,"./gl":384,"./gl.js":384,"./gom-deva":385,"./gom-deva.js":385,"./gom-latn":386,"./gom-latn.js":386,"./gu":387,"./gu.js":387,"./he":388,"./he.js":388,"./hi":389,"./hi.js":389,"./hr":390,"./hr.js":390,"./hu":391,"./hu.js":391,"./hy-am":392,"./hy-am.js":392,"./id":393,"./id.js":393,"./is":394,"./is.js":394,"./it":395,"./it-ch":396,"./it-ch.js":396,"./it.js":395,"./ja":397,"./ja.js":397,"./jv":398,"./jv.js":398,"./ka":399,"./ka.js":399,"./kk":400,"./kk.js":400,"./km":401,"./km.js":401,"./kn":402,"./kn.js":402,"./ko":403,"./ko.js":403,"./ku":404,"./ku.js":404,"./ky":405,"./ky.js":405,"./lb":406,"./lb.js":406,"./lo":407,"./lo.js":407,"./lt":408,"./lt.js":408,"./lv":409,"./lv.js":409,"./me":410,"./me.js":410,"./mi":411,"./mi.js":411,"./mk":412,"./mk.js":412,"./ml":413,"./ml.js":413,"./mn":414,"./mn.js":414,"./mr":415,"./mr.js":415,"./ms":416,"./ms-my":417,"./ms-my.js":417,"./ms.js":416,"./mt":418,"./mt.js":418,"./my":419,"./my.js":419,"./nb":420,"./nb.js":420,"./ne":421,"./ne.js":421,"./nl":422,"./nl-be":423,"./nl-be.js":423,"./nl.js":422,"./nn":424,"./nn.js":424,"./oc-lnc":425,"./oc-lnc.js":425,"./pa-in":426,"./pa-in.js":426,"./pl":427,"./pl.js":427,"./pt":428,"./pt-br":429,"./pt-br.js":429,"./pt.js":428,"./ro":430,"./ro.js":430,"./ru":431,"./ru.js":431,"./sd":432,"./sd.js":432,"./se":433,"./se.js":433,"./si":434,"./si.js":434,"./sk":435,"./sk.js":435,"./sl":436,"./sl.js":436,"./sq":437,"./sq.js":437,"./sr":438,"./sr-cyrl":439,"./sr-cyrl.js":439,"./sr.js":438,"./ss":440,"./ss.js":440,"./sv":441,"./sv.js":441,"./sw":442,"./sw.js":442,"./ta":443,"./ta.js":443,"./te":444,"./te.js":444,"./tet":445,"./tet.js":445,"./tg":446,"./tg.js":446,"./th":447,"./th.js":447,"./tk":448,"./tk.js":448,"./tl-ph":449,"./tl-ph.js":449,"./tlh":450,"./tlh.js":450,"./tr":451,"./tr.js":451,"./tzl":452,"./tzl.js":452,"./tzm":453,"./tzm-latn":454,"./tzm-latn.js":454,"./tzm.js":453,"./ug-cn":455,"./ug-cn.js":455,"./uk":456,"./uk.js":456,"./ur":457,"./ur.js":457,"./uz":458,"./uz-latn":459,"./uz-latn.js":459,"./uz.js":458,"./vi":460,"./vi.js":460,"./x-pseudo":461,"./x-pseudo.js":461,"./yo":462,"./yo.js":462,"./zh-cn":463,"./zh-cn.js":463,"./zh-hk":464,"./zh-hk.js":464,"./zh-mo":465,"./zh-mo.js":465,"./zh-tw":466,"./zh-tw.js":466};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=o,t.exports=r,r.id=479},480:function(t,e,n){"use strict";n(467)},481:function(t,e,n){(e=n(20)(!1)).push([t.i,".taking-bath[data-v-ab7d0676]{color:#3db4be}",""]),t.exports=e},492:function(t,e,n){"use strict";n.r(e);n(11),n(52),n(31),n(53),n(12);var r=n(469),o=n(468),l={components:{BathChart:r.default,StatusCard:o.default},data:function(){return{status:0,bath_time:{taking_bath_time:{hour:null,minutes:null},entry_bath_time:{hour:null,minutes:null},exit_bath_time:{hour:null,minutes:null}},chart:{data:[0,0,0,0,0,0,0],label:["","","","","","",""],update:[]},history:null,mean_bath_time:0,alert:!1}},created:function(){var t=this;this.$OneSignal.push((function(){t.$OneSignal.on("notificationDisplay",(function(e){t.updateData()}))}))},mounted:function(){this.updateData()},methods:{dateToHourMinutes:function(t){return{hour:Math.floor(t/36e5),minutes:Math.floor(t%36e5/6e4)}},dateFromEntry:function(t){return new Date-Date.parse(t)},chageChartData:function(){this.chart.data[0]=Math.floor(Math.random()*Math.floor(10)),this.chart.update=[]},getTime:function(time){return null==time.hour?"":time.hour+":"+time.minutes},getNowDate:function(){var t=new Date;return t.getMonth()+1+"月"+(t.getDay()+1)+"日"},getUserId:function(){return window.localStorage.getItem("user_id")},updateData:function(){var t=this;this.$axios.get("/status",{headers:{Authorization:"".concat(this.getUserId())}}).then((function(e){var n=e.data.status,r=e.data.entry_time,o=e.data.exit_time;t.status=n,console.log(n),r&&(r=new Date(r),t.bath_time.entry_bath_time.hour=r.getHours(),t.bath_time.entry_bath_time.minutes=r.getMinutes()),o&&(o=new Date(o),t.bath_time.exit_bath_time.hour=o.getHours(),t.bath_time.exit_bath_time.minutes=o.getMinutes())})),this.$axios.get("/history/week",{headers:{Authorization:"".concat(this.getUserId())}}).then((function(e){var n=e.data.history,r=e.data.mean;t.mean_bath_time=r,n.map((function(t){return t.date})).forEach((function(e,n){var r=e.split("-");t.chart.label[n]=r[1]+"/"+r[2]})),n.map((function(t){return t.minute})).forEach((function(e,n){t.chart.data[n]=e})),t.chart.update=[]}))}}},c=n(70),h=n(100),j=n.n(h),d=n(474),m=n(475),f=n(476),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{staticClass:"px-7 py-2"},[n("v-col",{attrs:{cols:"12"}},[n("h1",{staticClass:"amber--text text--darken-1"},[t._v(t._s(t.getNowDate()))])]),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("StatusCard",{attrs:{status:t.status}})],1),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("div",{staticClass:"text-h5 font-weight-black"},[t._v("今日の入浴時間")]),t._v(" "),n("h1",{staticClass:"amber--text text--darken-1"},[t._v("\n      "+t._s(t.getTime(t.bath_time.entry_bath_time))+"\n        ~\n      "+t._s(t.getTime(t.bath_time.exit_bath_time))+"\n    ")])]),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("div",{staticClass:"text-h5 font-weight-black"},[t._v("平均入浴時間")]),t._v(" "),n("div",{staticClass:"text-body-1 font-weight-black"},[t._v(t._s(this.chart.label[0])+"~"+t._s(this.chart.label[6]))]),t._v(" "),n("h1",{staticClass:"amber--text text--darken-1"},[t._v(t._s(t.mean_bath_time)+"分")])]),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("BathChart",{attrs:{height:270,chartData:t.chart.data,chartLabel:t.chart.label,update:t.chart.update}})],1),t._v(" "),n("v-overlay",{attrs:{absolute:!0,value:3===t.status,color:"#E53A00"}})],1)}),[],!1,null,"450dfc3b",null);e.default=component.exports;j()(component,{StatusCard:n(468).default,BathChart:n(469).default}),j()(component,{VCol:d.a,VOverlay:m.a,VRow:f.a})}}]);